require.config({paths:{jquery:"../lib/jquery",lodash:"../lib/lodash.compat.min",bootstrap:"../lib/bootstrap.min",store:"../lib/store.min",app:"../common/app",core:"../lib/core",CoreJxssc:"../lottery/jxssc_core"},shim:{bootstrap:{deps:["jquery"],exports:"jquery"}}}),require(["jquery","lodash","app","store","CoreJxssc","bootstrap","core"],function(a,e,t,s,i){"use strict";function o(){l.init(),c.init()}var l={lotyName:"",lotyId:8,lotyCNName:"江西时时彩",playName:"",codes:[],zhushu:0,mutiple:1,money:0,qihaoId:0,isManual:!1,qihao:0,alertStopModal:0,stopSaleFlag:!0,partnerBuy:{projectTitle:"江西时时彩合买方案",projectDescription:"江西时时彩",partBuyMoney:0,partAegisMoney:0,commissionPercent:0,shareLevel:1},rowIndex:0,buyType:1,trackData:{issueMutipleMap:{},trackStopMoney:0},proxyBuy:{betNum:2,mutiple:1,issueSize:10},init:function(){this.lotyName=a("#lotyName").val(),this.playName=a("#playName").val(),this.codes=[],this.zhushu=0,this.mutiple=1,this.money=0,this.isManual=!1,this.qihaoId=0,this.partnerBuy={projectTitle:"江西时时彩合买方案",projectDescription:"江西时时彩",partBuyMoney:0,partAegisMoney:0,commissionPercent:0,shareLevel:1},this.rowIndex=0,this.buyType=1,this.proxyBuy={betNum:2,multiple:1,issueSize:10}}},c={codes:[],zhushu:0,money:0,playType:"5XZX",init:function(){this.codes=[],this.zhushu=0,this.money=0}},n={codeKey:-1,codeObj:{}},r={clickFlag:3};a(document).ready(function(){function d(){a.ajax({url:"/lottery/issue/get-cur-issue?lottery_id="+lotyId,type:"GET",dataType:"json"}).done(function(e){1e5===e.retCode&&(X=Math.floor(e.retData[0].company_sell_etime-e.retData[0].sys_time),M=0===parseInt(e.retData[0].sell_status,0),p(M),l.alertStopModal!==l.qihao&&0!==l.alertStopModal&&t.showTips("您好，第 "+l.alertStopModal+" 期已截止，投注时请确认您选择的期号。"),0>X&&l.alertStopModal!==l.qihao&&t.showTips("您好，第 "+l.qihao+" 期已截止，投注时请确认您选择的期号。"),l.alertStopModal=l.qihao,2==l.buyType&&l.qihao!==e.retData[0].issue_num&&(a(".br-details thead .br-zhui-c")[0].checked=!0,z(a("#issue_size").val())),l.qihao=e.retData[0].issue_num,a("#j-current-issue").html(l.qihao),l.qihaoId=e.retData[0].id)}).fail(function(){console.log("error")}),h(),u()}function p(e){l.stopSaleFlag&&e&&(t.showStopSellModal(l.lotyCNName),a("#buy-submit").html("暂停销售").removeClass("btn-red").addClass("btn-stop").attr("id",""),l.stopSaleFlag=!1)}function u(){a.ajax({url:"/lottery/issue/kuaipin/last-issue-n?loty_name="+l.lotyName+"&issue_num=10",type:"GET",dataType:"json"}).done(function(e){if(1e5==e.retCode){for(var t="",s=0,i=e.retData.length;i>s;s++){var o=""==e.retData[s].kjhm?"等待开奖":'<span class="fc-3">'+e.retData[s].kjhm+"</span>";t+='<tr><td class="right-qihao">'+e.retData[s].no+"</td><td>"+o+"</td></tr>"}var l="等待开奖";if(""!=e.retData[0].kjhm){l="";for(var c=e.retData[0].kjhm.split(" "),s=0,i=c.length;i>s;s++)l+='<span class="bg-3">'+c[s]+"</span>"}a("#j-new-num").html(l),a("#j-last-issue-no").html(e.retData[0].no),a("#j-last-issue-n").html(t)}})}function h(){a.ajax({url:"/lottery/issue/get-last-award-info?lotteryId="+lotyId,type:"GET",dataType:"json"}).done(function(e){if(1e5===e.retCode){for(var t="",s=0;s<e.retData.length&&!(s>5);s++)t+="<tr>",t+="<td>"+e.retData[s].username+"</td>",t+="<td>"+e.retData[s].bonus_before_tax+"</td>",t+="</tr>";a("#j-new-bonus-list").html(""==t?'<tr><td colspan="2">暂无相关中奖纪录</td></tr>':t)}else a("#j-new-bonus-list").html('<tr><td colspan="2">系统繁忙</td></tr>')}).fail(function(){console.log("error")})}function y(){if(a("#j-current-issue").html(l.qihao),M)a("#j-less-info").html("停止销售");else if(X>0){var e=Math.floor(X/3600),t=Math.floor(X/60%60),s=X%60;t=String(10>t?"0"+t:t),s=String(10>s?"0"+s:s);var i='<span class="m-time-djs" >'+t.slice(0,1)+'</span><span class="m-time-djs" >'+t.slice(1,2)+'</span><span>分</span><span class="m-time-djs" >'+s.slice(0,1)+'</span><span class="m-time-djs" >'+s.slice(1,2)+"</span><span>秒</span>",o="";e>=10?(e=String(e),o='<span class="m-time-djs" >'+e.slice(0,1)+'</span><span class="m-time-djs" >'+e.slice(1,2)+"</span><span>时</span>",o+=i):e>0?(o='<span class="m-time-djs" >0</span><span class="m-time-djs" >'+e+"</span><span>时</span>",o+=i):o+=i,a("#j-less-info").html(o)}else 0==X&&a("#j-less-info").html("销售时间截止")}function v(){M||X>0||a("#j-less-info").html("销售时间截止")}function b(){c.zhushu=0,c.money=0;var a=i.getBetNum(c.playType,c.codes);c.zhushu+=a,c.money+=2*a}function m(){c.zhushu>0?(a("#choose_to_buy").addClass("active"),a("#choose_to_buy").removeAttr("disabled")):(a("#choose_to_buy").removeClass("active"),a("#choose_to_buy").attr("disabled","disabled")),a("#choose_zhushu").html(c.zhushu),a("#choose_money").html(c.money)}function f(){for(var a=0,e=l.codes.length-1;e>=0;e--)a+=i.getBetNum(l.codes[e].playType,l.codes[e].value);l.zhushu=a,l.money=2*a*l.mutiple}function j(){if(a("#buy_zhushu").html(l.zhushu),a("#project_price").html(l.money),a("#track_issue_num").html(0),a("#track_money").html(0),Object.size(l.trackData.issueMutipleMap)>0){var e=0;l.money=0;for(var t in l.trackData.issueMutipleMap){e++;var s=2*l.zhushu*l.trackData.issueMutipleMap[t].mutiple;l.money+=s,a(".br-details").find("tbody .br-zhui-c").each(function(e,i){return a(this).attr("data-qihaoid")==t?void a(this).parents("tr").find(".j-money").html(s):void 0})}a("#track_issue_num").html(e),a("#track_money").html(l.money)}l.money>0?a("#buy-submit").removeAttr("disabled"):a("#buy-submit").attr("disabled","disabled")}function g(e,s){parseInt(a("#project_price").text());switch(r.clickFlag){case 0:if(c.money>i.maxOneBetMoney)return t.showTips("您好，单个投注的金额应小于"+i.maxOneBetMoney+"元，请返回重新选择"),!1;break;case 1:if(c.money>i.maxOneBetMoney)return t.showTips("您好，单个投注的金额应小于"+i.maxOneBetMoney+"元，请返回重新选择"),!1}if(l.codes.length>i.maxBuyCodeLength)return t.showTips("您的投注号码多于"+i.maxBuyCodeLength+"行，请返回重新选择"),!1;var o=s,n="";switch(l.rowIndex++,e){case i.playType["5XZX"]:case i.playType["5XTX"]:var d=2*i.getBetNum(e,o);n+='<div class="br-zhu-item clearfix" dataBit='+l.rowIndex+">",n+="<b>["+i.playCNType[e]+"]</b>",n+='<div class="list">',n+='<span data-c="0">'+o[0].join("")+","+o[1].join("")+","+o[2].join("")+","+o[3].join("")+","+o[4].join("")+"</span>",n+="</div>",n+='<div class="pull-right"><b><i class="money" data-m="1">'+d+'</i>元</b><a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["4XZX"]:var d=2*i.getBetNum(e,o);n+='<div class="br-zhu-item clearfix" dataBit='+l.rowIndex+">",n+="<b>["+i.playCNType[e]+"]</b>",n+='<div class="list">',n+='<span data-c="0">'+o[0].join("")+","+o[1].join("")+","+o[2].join("")+","+o[3].join("")+"</span>",n+="</div>",n+='<div class="pull-right"><b><i class="money" data-m="1">'+d+'</i>元</b><a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["3XZX"]:var d=2*i.getBetNum(e,o);n+='<div class="br-zhu-item clearfix" dataBit='+l.rowIndex+">",n+="<b>["+i.playCNType[e]+"]</b>",n+='<div class="list">',n+='<span data-c="0">'+o[0].join("")+","+o[1].join("")+","+o[2].join("")+"</span>",n+="</div>",n+='<div class="pull-right"><b><i class="money" data-m="1">'+d+'</i>元</b><a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["2XZXHZ"]:case i.playType["2XTXHZ"]:var d=2*i.getBetNum(e,o);n+='<div class="br-zhu-item clearfix" dataBit='+l.rowIndex+">",n+="<b>["+i.playCNType[e]+"]</b>",n+='<div class="list">',n+='<span data-c="0">'+o[0].sort(function(a,e){return a-e}).join(",")+"</span>",n+="</div>",n+='<div class="pull-right"><b><i class="money" data-m="1">'+d+'</i>元</b><a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["3XZ3"]:case i.playType["3XZ6"]:case i.playType["2XZ2"]:var d=2*i.getBetNum(e,o);n+='<div class="br-zhu-item clearfix" dataBit='+l.rowIndex+">",n+="<b>["+i.playCNType[e]+"]</b>",n+='<div class="list">',n+='<span data-c="0">'+o[0].join(",")+"</span>",n+="</div>",n+='<div class="pull-right"><b><i class="money" data-m="1">'+d+'</i>元</b><a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["2XZX"]:var d=2*i.getBetNum(e,o);n+='<div class="br-zhu-item clearfix" dataBit='+l.rowIndex+">",n+="<b>["+i.playCNType[e]+"]</b>",n+='<div class="list">',n+='<span data-c="0">'+o[0].join("")+","+o[1].join("")+"</span>",n+="</div>",n+='<div class="pull-right"><b><i class="money" data-m="1">'+d+'</i>元</b><a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["1XZX"]:var d=2*i.getBetNum(e,o);n+='<div class="br-zhu-item clearfix" dataBit='+l.rowIndex+">",n+="<b>["+i.playCNType[e]+"]</b>",n+='<div class="list">',n+='<span data-c="0">'+o[0].join("")+"</span>",n+="</div>",n+='<div class="pull-right"><b><i class="money" data-m="1">'+d+'</i>元</b><a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType.DXSD:c.codes[0]=o[0].join("").slice(0,1).split(","),c.codes[1]=o[1].join("").slice(0,1).split(",");var d=2*i.getBetNum(e,o);n+='<div class="br-zhu-item clearfix" dataBit='+l.rowIndex+">",n+="<b>["+i.playCNType[e]+"]</b>",n+='<div class="list">',n+='<span data-c="0">'+o[0].join("").slice(0,1)+","+o[1].join("").slice(0,1)+"</span>",n+="</div>",n+='<div class="pull-right"><b><i class="money" data-m="1">'+d+'</i>元</b><a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType.R1:case i.playType.R2:var p=o[0]&&o[0].length>0?o[0].join(""):"-",u=o[1]&&o[1].length>0?o[1].join(""):"-",h=o[2]&&o[2].length>0?o[2].join(""):"-",y=o[3]&&o[3].length>0?o[3].join(""):"-",v=o[4]&&o[4].length>0?o[4].join(""):"-",d=2*i.getBetNum(e,o);n+='<div class="br-zhu-item clearfix" dataBit='+l.rowIndex+">",n+="<b>["+i.playCNType[e]+"]</b>",n+='<div class="list">',n+='<span data-c="0">'+p+","+u+","+h+","+y+","+v+"</span>",n+="</div>",n+='<div class="pull-right"><b><i class="money" data-m="1">'+d+'</i>元</b><a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;default:return!1}return l.codes.push({key:l.rowIndex,value:o,playType:e}),a("#code_list").append(n),!0}function T(e){a(".j-num-group a.active").removeClass(),a(".j-dxds-num-group a.active").removeClass();var t={};for(var s in l.codes)if(l.codes[s].key==e){t=l.codes[s];break}c.init();for(var i=t.playType,o=0;o<t.value.length;o++)switch(c.codes[o]=[],i){case"2XZX":case"2XZ2":a(".j-choose-code-"+i+" .j-normal-play").find(".j-row-code[data-bit="+o+"] a").each(function(e){for(var s=0;s<t.value[o].length;s++)a(this).html()==t.value[o][s]&&(a(this).addClass("active"),c.codes[o].push(t.value[o][s]))});break;case"2XZXHZ":a(".j-choose-code-2XZX .j-hezhi-play").find(".j-row-code[data-bit="+o+"] a").each(function(e){for(var s=0;s<t.value[o].length;s++)a(this).html()==t.value[o][s]&&(a(this).addClass("active"),c.codes[o].push(t.value[o][s]))});break;case"2XTXHZ":a(".j-choose-code-2XZ2 .j-hezhi-play").find(".j-row-code[data-bit="+o+"] a").each(function(e){for(var s=0;s<t.value[o].length;s++)a(this).html()==t.value[o][s]&&(a(this).addClass("active"),c.codes[o].push(t.value[o][s]))});break;case"DXSD":a(".j-choose-code-"+t.playType).find(".j-row-code[data-bit="+o+"] a").each(function(e){for(var s=0;s<t.value.length;s++)a(this).html().slice(0,1)==t.value[o][s]&&(a(this).addClass("active"),c.codes[o].push(t.value[o][s]))});break;case"R1":case"R2":a(".j-choose-code-"+t.playType).find(".j-row-code[data-bit="+o+"] a").each(function(e){for(var s=0;t.value[o]&&s<t.value[o].length;s++)a(this).html()==t.value[o][s]&&(a(this).addClass("active"),c.codes[o].push(t.value[o][s]))});break;default:a(".j-choose-code-"+t.playType).find(".j-row-code[data-bit="+o+"] a").each(function(e){for(var s=0;s<t.value[o].length;s++)a(this).html()==t.value[o][s]&&(a(this).addClass("active"),c.codes[o].push(t.value[o][s]))})}b(),m()}function k(){a(".br-zhu-l").html(""),a("#sd-list").html(""),l.init(),f(),j()}function z(e){var t="",s=a(".br-details thead .br-zhui-bei").val(),i=a(".br-zhui-list thead .br-zhui-c").prop("checked");l.trackData.issueMutipleMap={},a.ajax({url:"/lottery/issue/get-issue-list?lottery_id="+l.lotyId+"&issue_size="+e,type:"GET",dataType:"json"}).done(function(e){if(1e5==e.retCode)for(var o=0;o<e.retData.length;o++){var c=o+1,n=2*l.zhushu;l.trackData.issueMutipleMap[e.retData[o][0]]={qihao:e.retData[o][1],mutiple:1},t+=i?"<tr><td>"+c+'</td><td><input type="checkbox" class="br-zhui-c" data-qihaoid="'+e.retData[o][0]+'"data-qi="'+e.retData[o][1]+'" checked="">'+e.retData[o][1]+'期</td><td><input type="text" class="br-input br-zhui-bei" value="'+s+'">倍</td><td><span class="j-money">'+n+'</span>元</td><td><span class="ml15">'+e.retData[o][2]+"</span></td></tr>":"<tr><td>"+c+'</td><td><input type="checkbox" class="br-zhui-c" data-qihaoid="'+e.retData[o][0]+'"data-qi="'+e.retData[o][1]+'">'+e.retData[o][1]+'期</td><td><input type="text" class="br-input br-zhui-bei" value="'+s+'">倍</td><td><span class="j-money">'+n+'</span>元</td><td><span class="ml15">'+e.retData[o][2]+"</span></td></tr>"}else t='<tr><td colspan="5">系统繁忙， 请稍候再试</td></tr>';a("#track_issue_list").html(t),f(),j()}).fail(function(){t='<tr><td colspan="5">系统繁忙， 请稍候再试</td></tr>',a("#track_issue_list").html(t)})}function _(a,e,t,s,i,o,l,c,n,r){var d='<div class="frbox"><img src="'+staticHostURI+'/front_images/fail.png" alt="success" class="icon"><div class="text">';switch(a){case 1:d+="<p>"+e+" 第<span>"+t+"</span>期</p><p>共<span>"+s+"</span>注, 投注<span>"+i+'</span>倍</p><p>本次需支付<span class="fc-3">'+o.toFixed(2)+"</span>元</p>";break;case 2:d+="<p>追号<span>"+n+'</span>期</p><p>本次需支付<span class="fc-3">'+r+"</span>元</p>";case 4:break;case 3:d+=c>0?"<p>"+e+" 第<span>"+t+'</span>期</p><p>方案总金额<span class="fc-3">'+o.toFixed(2)+"</span>元</p><p>您认购<span>"+l.toFixed(2)+"</span>元, 保底<span>"+c.toFixed(2)+'</span>元</p><p>共需支付<span class="fc-3">'+(l+c).toFixed(2)+"</span>元</p>":"<p>"+e+" 第<span>"+t+'</span>期</p><p>方案总金额<span class="fc-3">'+o.toFixed(2)+"</span>元</p><p>您认购<span>"+l.toFixed(2)+'</span>元</p><p>共需支付<span class="fc-3">'+(l+c).toFixed(2)+"</span>元</p>"}return d+='<div class="btns"><button class="btn btn-danger" id="buyConfirm">确定</button><button class="btn btn-gray" data-dismiss="modal">取消</button></div></div></div>'}function C(a,e,i,o,l,c,n){1e5==a?(s.clear(),s.set("lotyName",c),s.set("lotyCNName",n),s.set("payMoney",l),s.set("projectNo",i),s.set("trackId",o),window.location.href="/html/lottery/trade/success.html"):t.handRetCode(a,e)}function x(a,e){s.clear(),s.set("lotyName",a),s.set("lotyCNName",e),window.location.href="/html/lottery/trade/fail.html"}o();var X=0,M=!1,w=0;d(),y(),setInterval(function(){y(),d()},1e3),v(),a(".j-num-group").on("click","a",function(t){t.preventDefault();var s=parseInt(a(this).parents(".j-row-code").attr("data-bit")),i=null,o=a(this).html();c.codes[s]||(c.codes[s]=[]),i=c.codes[s].concat(),a(this).hasClass("active")?e.remove(i,function(a){return a==o}):i.push(o),c.codes[s]=i,c.codes[s].sort(),a(this).toggleClass("active"),b(),m()}),a(".j-dxds-num-group").on("click","a",function(t){var s=parseInt(a(this).parents(".j-row-code").attr("data-bit")),i=null,o=a(this).html().slice(0,1);c.codes[s]||(c.codes[s]=[]),i=c.codes[s].concat(),a(this).hasClass("active")?e.remove(i,function(a){return a==o}):(i=[],i.push(o)),c.codes[s]=i,c.codes[s].sort(),a(this).hasClass("active")?a(this).removeClass("active"):(a(this).addClass("active"),a(this).siblings("a").removeClass("active")),b(),m()}),a(".j-quick-method").on("click","span",function(e){e.preventDefault(),a(this).toggleClass("active");var t=parseInt(a(this).parents(".j-row-code").attr("data-bit"));switch(c.codes[t]=[],a(this).attr("data-type")){case"odd":a(this).parents(".j-row-code").find(".j-num-group a").each(function(e){a(this).removeClass("active"),e%2!=0&&(a(this).toggleClass("active"),c.codes[t].push(a(this).html()))});break;case"even":a(this).parents(".j-row-code").find(".j-num-group a").each(function(e){a(this).removeClass("active"),e%2==0&&(a(this).toggleClass("active"),c.codes[t].push(a(this).html()))});break;case"big":a(this).parents(".j-row-code").find(".j-num-group a").each(function(e){a(this).removeClass("active"),e>=5&&(a(this).toggleClass("active"),c.codes[t].push(a(this).html()))});break;case"small":a(this).parents(".j-row-code").find(".j-num-group a").each(function(e){a(this).removeClass("active"),5>e&&(a(this).toggleClass("active"),c.codes[t].push(a(this).html()))});break;case"all":a(this).parents(".j-row-code").find(".j-num-group a").removeClass("active"),a(this).parents(".j-row-code").find(".j-num-group a").each(function(e){a(this).toggleClass("active"),c.codes[t].push(a(this).html())});break;case"clean":c.codes[t].length=0,a(this).parents(".j-row-code").find(".j-num-group a").each(function(e){a(this).removeClass("active")})}b(),m()}),a(".j-radio-group").on("click",".j-radio-unit",function(e){switch(e.preventDefault(),a("#code_list").html(""),a("#choose_to_buy").attr("data-add","1").removeClass("active"),a("#choose_to_buy_tip").text("添加到投注列表"),a(".j-row-code .j-num-group a").removeClass("active"),c.init(),l.init(),a("#buy_zhushu").text("0"),a("#project_price").text("0"),a("#choose_zhushu").text("0"),a("#choose_money").text("0"),a("#buy_mutiple_span").show(),a("#buy_type li:nth-child(2) i").addClass("icon-y2"),a("#buy_type li:nth-child(3) i").removeClass("icon-y2"),a("#buy_type li:nth-child(2)").addClass("active"),a("#buy_type li:nth-child(3)").removeClass("active"),a("#cg1").addClass("active"),a("#cg2").removeClass("active"),f(),j(),a(this).attr("data-sub-play")){case"0":var t=a(this).parents("#j_normal_choose_code"),s=t.find(".j-normal-play");s.show(),c.playType=s.attr("data-play-name"),t.find(".j-hezhi-play").hide(),t.find(".icon-y2").addClass("icon-y"),t.find(".icon-y2").removeClass("icon-y2"),a(this).addClass("icon-y2");break;case"1":var t=a(this).parents("#j_normal_choose_code"),s=t.find(".j-hezhi-play");s.show(),c.playType=s.attr("data-play-name"),t.find(".j-normal-play").hide(),t.find(".icon-y2").addClass("icon-y"),t.find(".icon-y2").removeClass("icon-y2"),a(this).addClass("icon-y2")}}),a("#choose_to_buy").on("click",function(e){var s=!1;if(!(c.zhushu<1)){switch(parseInt(a("#choose_to_buy").attr("data-add"))){case 0:r.clickFlag=0;var o=parseInt(a("#project_price").text());if(c.money+o>i.maxOneBetMoney)return t.showTips("您好，单个投注的金额应小于"+i.maxOneBetMoney+"元，请返回重新选择"),!1;for(var d in l.codes)l.codes[d].key==n.codeKey&&(l.codes[d].value=c.codes);var p="";switch(c.playType){case i.playType["5XZX"]:case i.playType["5XTX"]:p='<div class="br-zhu-item clearfix" databit="'+n.codeKey+'">                            <b>['+i.playCNType[c.playType]+']</b>                            <span data-c="0">'+c.codes[0].join("")+","+c.codes[1].join("")+","+c.codes[2].join("")+","+c.codes[3].join("")+","+c.codes[4].join("")+'</span>                            <div class="pull-right">                            <b><i class="money" data-m="1">'+c.money+'</i>元</b>                            <a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["4XZX"]:p='<div class="br-zhu-item clearfix" databit="'+n.codeKey+'">                            <b>['+i.playCNType[c.playType]+']</b>                            <span data-c="0">'+c.codes[0].join("")+","+c.codes[1].join("")+","+c.codes[2].join("")+","+c.codes[3].join("")+'</span>                            <div class="pull-right">                            <b><i class="money" data-m="1">'+c.money+'</i>元</b>                            <a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["3XZX"]:p='<div class="br-zhu-item clearfix" databit="'+n.codeKey+'">                            <b>['+i.playCNType[c.playType]+']</b>                            <span data-c="0">'+c.codes[0].join("")+","+c.codes[1].join("")+","+c.codes[2].join("")+'</span>                            <div class="pull-right">                            <b><i class="money" data-m="1">'+c.money+'</i>元</b>                            <a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["3XZ3"]:case i.playType["3XZ6"]:case i.playType["2XZ2"]:p='<div class="br-zhu-item clearfix" databit="'+n.codeKey+'">                            <b>['+i.playCNType[c.playType]+']</b>                            <span data-c="0">'+c.codes[0].join(",")+'</span>                            <div class="pull-right">                            <b><i class="money" data-m="1">'+c.money+'</i>元</b>                            <a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["2XZXHZ"]:case i.playType["2XTXHZ"]:p='<div class="br-zhu-item clearfix" databit="'+n.codeKey+'">                            <b>['+i.playCNType[c.playType]+']</b>                            <span data-c="0">'+c.codes[0].sort(function(a,e){return a-e}).join(",")+'</span>                            <div class="pull-right">                            <b><i class="money" data-m="1">'+c.money+'</i>元</b>                            <a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["2XZX"]:p='<div class="br-zhu-item clearfix" databit="'+n.codeKey+'">                            <b>['+i.playCNType[c.playType]+']</b>                            <span data-c="0">'+c.codes[0].join("")+","+c.codes[1].join("")+'</span>                            <div class="pull-right">                            <b><i class="money" data-m="1">'+c.money+'</i>元</b>                            <a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType["1XZX"]:p='<div class="br-zhu-item clearfix" databit="'+n.codeKey+'">                            <b>['+i.playCNType[c.playType]+']</b>                            <span data-c="0">'+c.codes[0].join("")+'</span>                            <div class="pull-right">                            <b><i class="money" data-m="1">'+c.money+'</i>元</b>                            <a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType.DXSD:p='<div class="br-zhu-item clearfix" databit="'+n.codeKey+'">                            <b>['+i.playCNType[c.playType]+']</b>                            <span data-c="0">'+c.codes[0].join("").slice(0,1)+","+c.codes[1].join("").slice(0,1)+'</span>                            <div class="pull-right">                            <b><i class="money" data-m="1">'+c.money+'</i>元</b>                            <a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;case i.playType.R1:case i.playType.R2:var u=c.codes[0]&&c.codes[0].length>0?c.codes[0].join(""):"-",h=c.codes[1]&&c.codes[1].length>0?c.codes[1].join(""):"-",y=c.codes[2]&&c.codes[2].length>0?c.codes[2].join(""):"-",v=c.codes[3]&&c.codes[3].length>0?c.codes[3].join(""):"-",b=c.codes[4]&&c.codes[4].length>0?c.codes[4].join(""):"-";p='<div class="br-zhu-item clearfix" databit="'+n.codeKey+'">                            <b>['+i.playCNType[c.playType]+']</b>                            <span data-c="0">'+u+","+h+","+y+","+v+","+b+'</span>                            <div class="pull-right">                            <b><i class="money" data-m="1">'+c.money+'</i>元</b>                            <a href="javascript:;" class="br-zhu-set">修改</a><a href="javascript:;" class="br-zhu-del">删除</a></div></div>';break;default:return!1}n.codeObj.replaceWith(p),s=!0;break;case 1:r.clickFlag=1,s=g(c.playType,c.codes)}s&&(f(),j(),a("#choose_zhushu").html(0),a("#choose_money").html(0),a("#sd_number").val(""),a(".j-num-group a.active").removeClass(),a(".j-dxds-num-group a.active").removeClass(),c.init(),a("#choose_to_buy_tip").html("添加到投注列表"),a("#choose_to_buy").attr("data-add",1),a("#choose_to_buy").removeClass("active"),a("#choose_to_buy").attr("disabled","disabled"))}}),a(".j-zhu-adds").on("click",function(e){e.preventDefault(),r.clickFlag=2;var s=parseInt(a(this).attr("data-zhu"));if(l.codes.length+s>i.maxBuyCodeLength)return void t.showTips("您的投注号码多于"+i.maxBuyCodeLength+"行，请返回重新选择");for(var o=s-1;o>=0;o--){var n=i.produceCode(c.playType);if(!1===n)return;g(c.playType,n)}f(),j(),m()}),a(".br-zhu-l").on("click",".br-zhu-item",function(e){e.preventDefault(),l.isManual||"A"!=e.target.tagName&&(T(a(this).attr("databit")),a("#choose_to_buy").addClass("active"))}),a(".br-zhu-l").on("click",".br-zhu-del",function(t){a(this).parents(".br-zhu-item")[0]==n.codeObj[0]&&(a("#choose_to_buy").attr("data-add",1),a("#choose_to_buy_tip").html("添加到投注列表"));var s=a(this).parents(".br-zhu-item").attr("dataBit");e.remove(l.codes,function(a){return a.key==s}),a(this).parents(".br-zhu-item").remove(),f(),j()}),a(".br-zhu-l").on("click",".br-zhu-set",function(e){var t=a(this).parents(".br-zhu-item").attr("databit");T(t),a("#choose_to_buy").addClass("active"),a("#choose_to_buy").attr("data-add",0),a("#choose_to_buy_tip").html("修改投注号码"),n={codeKey:t,codeObj:a(this).parents(".br-zhu-item")}}),a("#clean_buy_code").on("click",function(e){a("#code_list").html(""),a("#project_mutiple").val("1");var t=l.buyType;l.init(),f(),j(),l.buyType=t}),a("#decrease_mutiple").on("click",function(e){e.preventDefault();var t=a("#project_mutiple"),s=parseInt(t.val());s--,l.mutiple=s<i.minMultiple?i.minMultiple:s>i.maxMultiple?i.maxMultiple:s,t.val(l.mutiple),f(),j()}),a("#project_mutiple").on("change",function(e){e.preventDefault();var t=parseInt(a(this).val())||0;l.mutiple=t<i.minMultiple?i.minMultiple:t>i.maxMultiple?i.maxMultiple:t,a(this).val(l.mutiple),f(),j()}),a("#increase_mutiple").on("click",function(e){e.preventDefault();var s=a("#project_mutiple"),o=parseInt(s.val());return o++,l.mutiple=o<i.minMultiple?i.minMultiple:o>i.maxMultiple?i.maxMultiple:o,s.val(l.mutiple),f(),j(),l.money>i.maxOneBetMoney?(t.showTips("您好，单个投注的金额应小于"+i.maxOneBetMoney+"元，请返回重新选择"),!1):void 0}),a("#buy-submit").on("click",function(e){return e.preventDefault(),a(this).parents(".br-tou").find(".j-sub-agreed")[0].checked===!1?void t.showTips("请先阅读并同意《委托投注规则》后才能继续"):void D()}),a("#buy_type").on("click","a",function(e){e.preventDefault();var t=this;switch(l.trackData.issueMutipleMap={},a("#buy_mutiple_span").show(),l.partnerBuy={projectTitle:"江西时时彩合买方案",projectDescription:"江西时时彩"},l.buyType=parseInt(a(this).attr("data-buytype")),l.mutiple=1,a("#project_mutiple").val(l.mutiple),l.buyType){case 1:a("#track_desc").addClass("hide");break;case 2:a("#buy_mutiple_span").hide(),a("#track_desc").removeClass("hide");var s=a(t).parents("#buy_type").next(".tab-content");s.find("#cg1").removeClass("active"),s.find("#cg2").addClass("active"),z(10)}f(),j()}),a("#issue_size").on("change",function(e){e.preventDefault(),z(a(this).val())}),a(".br-details thead .br-zhui-c").on("change",function(e){var t=a(this)[0].checked;a(this).parents(".br-details").find("tbody .br-zhui-c").each(function(a,e){e.checked=t}),l.trackData.issueMutipleMap={},a(this).parents(".br-details").find("tbody .br-zhui-c").each(function(e,t){t.checked&&(l.trackData.issueMutipleMap[a(this).attr("data-qihaoid")]={qihao:a(this).attr("data-qi"),mutiple:a(this).parents("tr").find(".br-zhui-bei").val()})}),f(),j()}),a(".br-details").on("change","tbody .br-zhui-c",function(e){e.preventDefault(),l.trackData.issueMutipleMap={},a(this).parents(".br-details").find("tbody .br-zhui-c").each(function(e,t){t.checked&&(l.trackData.issueMutipleMap[a(this).attr("data-qihaoid")]={qihao:a(this).attr("data-qi"),mutiple:a(this).parents("tr").find(".br-zhui-bei").val()})}),f(),j()}),a(".br-details thead .br-zhui-bei").on("change",function(e){var t=parseInt(a(this).val())||1;isNaN(t)||1>t?t=1:(t=Math.ceil(t),t>9999&&(t=9999)),a(this).val(t);var s=a(this).parents(".br-details");s.find("tbody .br-zhui-bei").val(t),s.find("tbody .br-zhui-c").each(function(e,t){t.checked="checked",l.trackData.issueMutipleMap[a(this).attr("data-qihaoid")]={qihao:a(this).attr("data-qi"),mutiple:a(this).parents("tr").find(".br-zhui-bei").val()}}),f(),j()}),a(".br-details tbody").on("change",".br-zhui-bei",function(e){var t=parseInt(a(this).val())||1;isNaN(t)||1>t?t=1:(t=Math.ceil(t),t>9999&&(t=9999)),a(this).val(t);var s=a(this).parents("tr"),i=s.find(".br-zhui-c");i.attr("checked","checked"),l.trackData.issueMutipleMap[i.attr("data-qihaoid")]={qihao:i.attr("data-qi"),mutiple:s.find(".br-zhui-bei").val()},f(),j()}),a('#buy_type a[data-toggle="tab"]').on("click",function(e){a(this).parents("#buy_type").find(".icon-y2").removeClass("icon-y2"),a(this).find(".icon").addClass("icon-y2")}),a("#track_stop_money").on("change",function(){event.preventDefault();var e=parseInt(a(this).val())||3e3;a(this).val(e)}),a("#j-nav").on("click","a",function(e){e.preventDefault();var t=a(this).parents("li");t.addClass("active"),t.siblings().removeClass("active"),c.playType=a(this).attr("data-playtype");var s=a("#j-box-left .j-choose-code-"+c.playType);switch(c.playType){case"2XZX":a(".j-choose-code-2XZX i.j-radio-unit:nth-child(1)").trigger("click");break;case"2XZ2":a(".j-choose-code-2XZ2 i.j-radio-unit:nth-child(1)").trigger("click")}s.show(),s.siblings().hide(),a("#choose_to_buy").attr("data-add","1"),a(".j-num-group a.active").removeClass(),a(".j-dxds-num-group a.active").removeClass(),a("#sd_number").val(""),l.init(),c.init(),d(),y(),k(),b(),m(),f(),j(),a("#buy-submit").attr("disabled","disabled"),c.playType!=i.playType["3XZ3"]||c.playType!=i.playType["2XZXHZ"]||c.playType!=i.playType["2XTXHZ"]?a("li.j-jx-zhus").show():a("li.j-jx-zhus").hide(),a("#j-box-right").show(),a("#j-box-bottom").show(),a("#choose_to_buy").removeClass("active"),a("#choose_to_buy").attr("disabled","disabled"),a("#j-box-left").removeClass("multiphase-box")});var D=function(){for(var e="",s=[],o="",c=0;c<l.codes.length;c++)switch(o=l.codes[c].playType,l.codes[c].playType){case i.playType["5XZX"]:s.push(l.codes[c].playType+"|"+l.codes[c].value[0].join("")+","+l.codes[c].value[1].join("")+","+l.codes[c].value[2].join("")+","+l.codes[c].value[3].join("")+","+l.codes[c].value[4].join(""));break;case i.playType["5XTX"]:s.push(l.codes[c].playType+"|"+l.codes[c].value[0].join("")+","+l.codes[c].value[1].join("")+","+l.codes[c].value[2].join("")+","+l.codes[c].value[3].join("")+","+l.codes[c].value[4].join(""));break;case i.playType["4XZX"]:s.push(l.codes[c].playType+"|"+l.codes[c].value[0].join("")+","+l.codes[c].value[1].join("")+","+l.codes[c].value[2].join("")+","+l.codes[c].value[3].join(""));break;case i.playType["3XZX"]:s.push(l.codes[c].playType+"|"+l.codes[c].value[0].join("")+","+l.codes[c].value[1].join("")+","+l.codes[c].value[2].join(""));break;case i.playType["3XZ3"]:case i.playType["3XZ6"]:case i.playType["2XZXHZ"]:case i.playType["2XZ2"]:case i.playType["2XTXHZ"]:s.push(l.codes[c].playType+"|"+l.codes[c].value[0].join(","));break;case i.playType["2XZX"]:case i.playType.DXSD:for(var n=0;2>n;n++)switch(l.codes[c].value[n][0]){case"大":l.codes[c].value[n][0]="2";break;case"小":l.codes[c].value[n][0]="1";break;case"单":l.codes[c].value[n][0]="5";break;case"双":l.codes[c].value[n][0]="4"}s.push(l.codes[c].playType+"|"+l.codes[c].value[0].join("")+","+l.codes[c].value[1].join(""));break;case i.playType["1XZX"]:s.push(l.codes[c].playType+"|"+l.codes[c].value[0].join(""));break;case i.playType.R1:case i.playType.R2:var r=l.codes[c].value[0]&&l.codes[c].value[0].length>0?l.codes[c].value[0].join(""):"-",d=l.codes[c].value[1]&&l.codes[c].value[1].length>0?l.codes[c].value[1].join(""):"-",p=l.codes[c].value[2]&&l.codes[c].value[2].length>0?l.codes[c].value[2].join(""):"-",u=l.codes[c].value[3]&&l.codes[c].value[3].length>0?l.codes[c].value[3].join(""):"-",h=l.codes[c].value[4]&&l.codes[c].value[4].length>0?l.codes[c].value[4].join(""):"-";

s.push(l.codes[c].playType+"|"+r+","+d+","+p+","+u+","+h);break;default:return}var y={zhushu:l.zhushu,beishu:l.mutiple,codes:s.join("$"),unikey:(new Date).valueOf()},v="";switch(l.buyType){case 1:e="/lottery/kuaipin/buy-self/"+l.lotyName+"/"+o,y.qihaoId=l.qihaoId,y.qihao=l.qihao,v=_(1,l.lotyCNName,y.qihao,l.zhushu,l.mutiple,l.money,0,0,0,0);break;case 2:e="/lottery/kuaipin/buy-track/"+l.lotyName+"/"+o;var b=[];for(var m in l.trackData.issueMutipleMap)b.push(m+"|"+l.trackData.issueMutipleMap[m].qihao+"|"+l.trackData.issueMutipleMap[m].mutiple);if(b.length<1)return void t.showTips("追号最少购买一期");y.endminmoney=a("#is_end_zhongjiang")[0].checked?1:0,y.zhuihaoqihao=b,w=l.money,v=_(2,l.lotyCNName,0,0,0,0,0,0,b.length,l.money)}a.ajax({url:"/account/islogin",type:"get",dataType:"json"}).done(function(s){1e5===s.retCode?Number(s.retData.money.replace(/,/g,""))>=l.money?(t.showTips({html:v,title:"投注确认"}),a("#buyConfirm").one("click",function(s){a.ajax({url:e,type:"POST",dataType:"json",data:y}).done(function(a){return 1e5!==a.retCode?void t.showTips(a.retMsg):void C(a.retCode,a.retMsg,a.retData.projectNo,a.retData.trackId,l.money,l.lotyName,l.lotyCNName)}).fail(function(){x(l.lotyName,l.lotyCNName)})})):t.showTips({html:'<div class="tipbox"><p>您的余额不足,购买失败！</p><p class="last"><a href="/account/top-up" class="btn btn-danger" target="_blank">立即充值</a></p></div>',title:"余额不足"}):t.handRetCode(s.retCode,s.retMsg,D)})}})});