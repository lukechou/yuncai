define(["jquery"],function(e){"use strict";var t=function(){function t(e){return this instanceof t?void 0:new t(e)}return t.prototype={systemTime:0,isSellStop:!0,currLotyName:"dlt",hasCreate:{ssq:!1,dlt:!1,pl5:!1},defaultPlayName:{ssq:0,dlt:0,pl5:10},buyCodes:{ssq:"",dlt:"",pl5:""},seeds:{}},t.prototype.init=function(t){var s=this;e("#choseCai").unbind(),e("#hdMask").show(),e("#choseCai a").toggleClass("on"),s.getQuickStopTime(),s.updateHeadUserInfo();setInterval(function(){s.timer4lottery(),s.systemTime++},1e3);s.timer4lottery()},t.prototype.timer4lottery=function(){var t,s,a,o,n,r,i,l,c,u,p=this,y=e("#j-quick-buy-loty-detail").find("#"+p.currLotyName),d="";if(p.systemTime>0&&(t=Number(y.find(".j-qihao-sell-endtime").val()),s=Math.floor(t-p.systemTime),s>0?(a=s/60/60,o=Math.floor(a/24),n=Math.floor(a%24),r=Math.floor(s/60%60),i=s%60,o>0&&(d+='<span class="j-day">'+o+"</span>天"),(0!==o||0!==n)&&(d+='<span class="j-hour">'+n+"</span>小时"),(0!==o||0!==n||0!==r)&&(d+='<span class="j-minute">'+r+"</span>分"),d+='<span class="j-second">'+i+"</span>秒后截止</span>"):d="销售时间截止",e("#j-quick-buy-loty-detail .pull-right").html(d)),!1===p.hasCreate[p.currLotyName]){switch(l=_.sample(p.seeds[p.currLotyName].redBall,p.seeds[p.currLotyName].redTotal),c=_.sample(p.seeds[p.currLotyName].blueBall,p.seeds[p.currLotyName].blueTotal),"pl5"!==p.currLotyName&&(l.sort(),c.sort()),u=0,p.currLotyName){case"ssq":p.buyCodes[p.currLotyName]=l.join(",")+"|"+c.join(",");break;case"dlt":p.buyCodes[p.currLotyName]=l.join(",")+"|"+c.join(",");break;case"pl5":p.buyCodes[p.currLotyName]=l.join(",")}y.find(".tou-ls li").each(function(t,s){e(this).html(l.length>t?l[t]:c[t-l.length])}),p.hasCreate[p.currLotyName]=!0}},t.prototype.getQuickStopTime=function(){var t=this;e.ajax({url:"/system",type:"GET",dataType:"json"}).done(function(e){1e5==e.retCode?t.systemTime=e.retData.sys_time:console.log(e.retMsg)})},t.prototype.updateHeadUserInfo=function(){var t="";e.ajax({url:"/account/islogin",type:"get",dataType:"json"}).done(function(s){1e5===s.retCode&&(t='<span>欢迎来到彩胜网&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;<i class="icon icon-bor"></i></span>'+s.retData.username+'       账户余额:<span id="userMoney">'+s.retData.money+'</span>元<a href="/account/top-up" class="active">充值</a><i class="icon icon-bor"></i><a href="/account/logout">退出</a><i class="icon icon-bor"></i><a href="/account/index" class="last">我的账户</a>',e("#j-hd-top").html(t))})},t}(),s=new t;return s});