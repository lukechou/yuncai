require.config({paths:{jquery:"../lib/jquery",lodash:"../lib/lodash.compat.min",store:"../lib/store.min",bootstrap:"../lib/bootstrap.min",app:"../common/app",tipsy:"../lib/jquery.tipsy"},shim:{bootstrap:{deps:["jquery"],exports:"jquery"},tipsy:{deps:["jquery"],exports:"jquery"}}}),require(["jquery","lodash","store","app","bootstrap","tipsy"],function(t,e,a,n){"use strict";function s(){z.viewObj=P.find(".j-rate-view"),z.numObj=P.find(".j-num"),z.curMoneyObj=P.find(".j-cur-money"),z.curInput=P.find(".j-cur-input"),z.addMoneyBtn=P.find(".j-add-m"),z.reduceMoneyBtn=P.find(".j-reduce-m"),z.addMoneyObj=P.find(".j-add-money"),z.bountyMoneyObj=P.find(".j-bounty-money"),z.addObj=P.find(".j-add"),z.reduceObj=P.find(".j-reduce"),z.preVal=0,z.timer=null,z.mTimer=null,z.autoType&&(z.viewObj=P.find(".j-view")),D=z.addVal}function i(t){var e=t.val();if(T>e)return n.showTips("投注金额范围为"+T+"-"+I+"元"),void t.val(T);if(e>I)return n.showTips("投注金额范围为"+T+"-"+I+"元"),void t.val(I);if(!C.test(e))return n.showTips("请输入整数"),void t.val(t.data("val"));for(var a=0;a<z.curInput.length;a++){var s=z.curInput.eq(a).val();if(a>0){var i=z.curInput.eq(a-1).val(),o=parseInt(100*(s/i-1),10);if(o>M||q>o)return n.showTips("在投注金额范围内，需满足投注增加比例的范围"+q+"%-"+M+"%"),t.val(t.data("val")),!1}}}function o(e,a){var s=null,i=null,o=null,r=null,u=null,l=null,d=null,p=null,c=null,m=null;e.val(a);for(var v=0;v<z.curInput.length;v++)if(s=z.curInput.eq(v).val(),v>0&&(i=z.curInput.eq(v-1).val(),o=parseInt(100*(s/i-1),10),o>M||q>o))return n.showTips("在投注金额范围内，需满足投注增加比例的范围"+q+"%-"+M+"%"),e.val(e.data("val")),!1;e.data("val",a);for(var v=0;v<z.curInput.length;v++)r=z.curInput.eq(v).val(),T>r?(n.showTips("投注金额范围为"+T+"-"+I+"元"),r=T):r>I&&(n.showTips("投注金额范围为"+T+"-"+I+"元"),r=I),z.curInput.eq(v).text(r),z.curInput.eq(v).val(r),z.curMoneyObj.eq(v).html(r),v>0&&(u=z.curInput.eq(v-1).val(),l=parseInt(100*(r/u-1),10),z.numObj.eq(v).val(l).data("val",l)),d=z.numObj.eq(v).val(),z.viewObj.eq(v).text(d+"%"),p=parseInt(r),v>0?(c=parseInt(z.addMoneyObj.eq(v-1).text(),10),z.addMoneyObj.eq(v).text(parseInt(p)+c),t("#j-count-total").text(parseInt(p)+c),D=parseInt(p)+c):z.addMoneyObj.eq(v).text(p),m=z.addMoneyObj.eq(v).text()}function r(e,a){var s=z.numObj.index(e),i=a/100+1,o=null,r=null;if(C.test(a)||(n.showTips("投注增加比例必须为整数"),a=0),0==s)var u=Math.round(i*z.curMoneyObj.eq(s).text());else var u=Math.round(i*z.curMoneyObj.eq(s-1).text());u%2!=0&&u++;for(var l=0;l<z.viewObj.length;l++){var d=0,p=0;if(l==s)var c=a;else var c=Number(z.numObj.eq(l).val());var m=C.test(c);m||(c=0,r.eq(l).val(0)),z.viewObj.eq(l).text(c+"%");var i=c/100+1;if(0==l)var u=Math.round(i*z.curMoneyObj.eq(l).text());else var u=Math.round(i*u);u%2!=0&&u++,q>c?(c=q,d=1):c>M&&(c=M,d=1),1==d&&l>0&&(n.showTips("投注增加比例范围为-99%-1000%"),o=c/100+1,u=Math.round(o*v),u%2!=0&&u++),T>u?(u=T,p=1):u>I&&(u=I,p=1),1==p&&l>0&&(n.showTips("在投注增加比例范围内，需满足投注金额的范围30-500000元"),c=Math.ceil(100*(u-v)/v));var v=u;if(z.numObj.eq(l).text(c),z.numObj.eq(l).val(c),z.curMoneyObj.eq(l).text(u),z.curInput.eq(l).val(u).data("val",u),l>0){var j=parseInt(z.addMoneyObj.eq(l-1).text(),10);z.addMoneyObj.eq(l).text(parseInt(u)+j),t("#j-count-total").text(parseInt(u)+j),D=parseInt(u)+j}else z.addMoneyObj.eq(l).text(u);{z.addMoneyObj.eq(l).text()}}}function u(e,a){var a=a||0,s=null,i=null;if(30>a)return n.showTips("当期投注金额最低为30元"),void(e.data("val")&&e.val(e.data("val")));if(a>5e5)return n.showTips("当期投注金额最高为500,000元"),void(e.data("val")&&e.val(e.data("val")));e.data("val",a),e.val(a);for(var o=0;o<z.viewObj.length;o++)s=parseInt(z.numObj.eq(o).val(),10),z.viewObj.eq(o).text(s),o>0?(i=parseInt(z.addMoneyObj.eq(o-1).text(),10),z.addMoneyObj.eq(o).text(s+i),k=s+i,t("#j-count-total").text(s+i),t("#j-total").val(s+i)):z.addMoneyObj.eq(o).text(s),z.bountyMoneyObj.eq(o).text((parseInt(s)*F).toFixed(2))}function l(){x()}function d(t){var a="",n=e.find(N.data,function(t){return t.id===N.rid}),s=["盈利以后自动终止","完成所有期数后终止"],i=[],o=t.autobuyInfo;return F=t.modelInfo.ar,a+='<tr class="tr-modify j-tr-modify"><td colspan="9" class="list-box"><p class="text-left">总投注<span class="mlr5">'+n.total_issue+'</span>期，已投注<span class="fc-3 mlr5">'+o.complete_issue+'</span>期，累计投注<span class="fc-3 mlr5">'+n.project_money+'</span>元，累积奖金<span class="fc-3 mlr5">'+n.total_bounty+"</span>元</p>",a+='<p class="text-left text-fen"><span>投注资金分配详情:</span>',0==o.auto_status&&o.total_issue>1&&(a+='<span id="j-percent-edit-wrap"><a href="javascript:;" class="j-modify">修改投注分配</a> <i class="icon icon-warm ps-t2 j-icon-tips" original-title="可自行修改投注增加比例或者档期投注金额,系统将按照您修改后的投注分配进行投注"></i></span><button class="btn btn-sear j-stop-issue">手动终止自动投注</button>'),a+="</p>",a+='<table class="table m-table-one box-table"><thead><tr><th>期数</th>',a+=0==o.auto_type?"<th>投注增加比例</th><th>当前投注金额（元）</th>":"<th>当前投注金额（元）</th>",a+='<th>累计投注金额（元）</th><th>当期预计奖金（元）</th><th>投注期号</th><th>当期命中情况</th></tr></thead><tbody id="j-data-body">',i=e.map(t.autobuyIssueList,function(t,e){var a="",n=Number(t.current_rate).toFixed(0),s=Number(t.current_money).toFixed(0);return a+="<tr>",a+=t.project_issue||1==t.issue_num?'<td class="j-issue-num">'+t.issue_num+"</td>":'<td class="j-issue-num" data-issuenum="'+t.issue_num+'">'+t.issue_num+"</td>",z.autoType=~~o.auto_type,0==o.auto_type?(t.project_issue||1==t.issue_num?(a+="<td>",a+='<span class="j-view j-rate-view">'+n+"%</span>",a+='<span class="j-edit hide">'+n+"%</span>",a+='<input maxlength="6" class="j-num edit-num" type="hidden" name="current_rate" value="'+n+'">',a+="</td>"):(a+='<td><span class="j-view j-rate-view">'+n+"%</span>",a+='<span class="edit-wrap-w j-edit hide clearfix"><span class="edit-wrap clearfix">',a+='<a href="javascript:;" class="i-reduce j-reduce">-</a>',a+='<input maxLength="6" data-val="'+n+'" class="j-num edit-num"  title="范围为 -100%-1000%"  type="text" name="current_rate" value="'+n+'">',a+='<a href="javascript:;" class="i-add j-add">+</a>',a+="</span>%</span></td>"),t.project_issue||1==t.issue_num?(a+="<td>",a+='<span class="j-view j-cur-money">'+s+"</span>",a+='<span class="j-edit hide">'+s+"</span>",a+='<input maxlength="6" class="j-cur-input edit-num" type="hidden" name="current_money" value="'+s+'">',a+="</td>"):(a+='<td><span class="j-view j-cur-money">'+s+"</span>",a+='<span class="edit-wrap-w j-edit hide clearfix"><span class="edit-wrap clearfix">',a+='<a href="javascript:;" class="i-reduce j-reduce-m">-</a>',a+='<input data-val="'+s+'" class="j-cur-input edit-num" type="text" name="current_money" value="'+s+'">',a+='<a href="javascript:;" class="i-add j-add-m">+</a>',a+="</span></span></td>")):t.project_issue||1==t.issue_num?(a+="<td>",a+='<span class="j-view j-cur-money">'+s+"</span>",a+='<span class="j-edit hide">'+s+"</span>",a+='<input maxlength="6" class="j-num edit-num" type="hidden" name="current_money" value="'+s+'">',a+="</td>"):(a+='<td><span class="j-view">'+s+"</span>",a+='<span class="j-edit edit-wrap clearfix hide">',a+='<a href="javascript:;" class="i-reduce j-reduce">-</a>',a+='<input class="j-num edit-num" data-val="'+s+'" type="text" name="current_money" value="'+s+'">',a+='<a href="javascript:;" class="i-add j-add">+</a>',a+="</span></td>"),a+='<td class="j-add-money">'+Number(t.total_money).toFixed(0)+"</td>",a+='<td class="j-bounty-money">'+Number(t.yu_bounty_money).toFixed(2)+"</td>",a+="<td>"+t.project_issue+"</td>",a+="<td>"+t.mz+"</td>",a+="</tr>"}),a+=i.join(""),a+='</tbody></table><p class="text-left text-stop" id="j-text-stop">终止自动投注的条件：<span class="fc-3">'+s[o.stop_type]+'</span></p><p class="auto-stop-nav text-left hide">',a+=1==o.stop_type?'请选择终止自动投注的条件：<input type="radio" name="autostop" checked="checked" value="1">完成所有期数后终止<input type="radio" name="autostop" value="0">盈利以后自动终止':'请选择终止自动投注的条件：<input type="radio" name="autostop"  value="1">完成所有期数后终止<input type="radio" name="autostop" checked="checked" value="0">盈利以后自动终止',a+="</p></td></tr>",0==o.auto_status&&o.total_issue>1&&(a+='<tr class="j-modify-bottom modify-bottom hide"><td colspan="9"><button class="btn btn-red" id="j-modify-confirm">确认修改</button><button class="btn btn-gray" id="j-modify-cancel">取消修改</button></td></tr>'),a}function p(){var e={},a=t("#j-data-body"),n=a.find(".j-issue-num"),s=a.find(".j-add-money"),i=a.find(".j-bounty-money"),o="";return P.find("input[name]").each(function(){var a=t(this).attr("name")+"";"autostop"!==a&&0!==a.length&&(e[a]||(e[a]=[]),e[a].push(t(this).val()))}),e.current_rate?t.each(n,function(a,n){o+="<tr>",o+='<td class="w150">'+t(this).html()+"</td>",o+='<td class="w150">'+e.current_rate[a]+"</td>",o+='<td class="w150">'+e.current_money[a]+"</td>",o+='<td class="w150">'+s.eq(a).html()+"</td>",o+="<td>"+i.eq(a).html()+"</td>",o+="</tr>"}):t.each(n,function(a,n){o+="<tr>",o+='<td class="w200">'+t(this).html()+"</td>",o+="<td>"+e.current_money[a]+"</td>",o+='<td class="w200">'+s.eq(a).html()+"</td>",o+='<td class="w200">'+i.eq(a).html()+"</td>",o+="</tr>"}),o}function c(){var a=e.find(N.data,function(t){return t.id==N.rid}),n=~~a.auto_type,s=t("[name=current_money]").length,i=t(".j-add-money").last().html(),o=p(),r="",u=_(t('[name="autostop"]:checked').val()),l='您对模型<span class="mlr5">'+O+"</span> 设置了"+s+'期的自动投注 总投注金额为<span class="mlr5 fc-3">'+i+'</span>元（<span class="fc-84">系统会按期自动投注</span>）',d="";d=u?"完成所有期数后终止":"盈利以后自动终止",r=1==n?'<tr><th class="w200">期数</th><th>当期投注金额(元)</th><th class="w200">累计投注金额(元)</th><th class="w200">当前预计奖金(元)</th></tr>':'<tr><th class="w150">期数</th><th class="w150">投注增加比例</th><th class="w150">当期投注金额(元)</th><th class="w150">累计投注金额(元)</th><th>当前预计奖金(元)</th></tr>',t("#j-modal-title").html(l),t("#j-modal-thead").html(r),t("#j-modal-tbody").html(o),t("#autoModal .text-stop").removeClass("hide"),t("#j-moal-stop").html(d),t("#autoModal").modal("show")}function m(){var a=e.find(N.data,function(t){return t.id==N.rid});if(1==a.auto_type){var s=t("#j-total").val();if(0>=s)return void n.showTips("请先修改资金分配，再进行确认修改！")}var i=[],o=_(t('[name="autostop"]:checked').val());t("[data-issuenum]").each(function(e,a){i.push(t(this).attr("data-issuenum"))});var r={auto_id:N.rid,model_id:O,stop_type:o,issue_num:i};P.find("input[name]").each(function(){var e=t(this).attr("name")+"";"autostop"!==e&&0!==e.length&&(r[e]||(r[e]=[]),r[e].push(t(this).val()))}),r.current_money&&(r.current_money=r.current_money.slice(1)),r.current_rate&&(r.current_rate=r.current_rate.slice(1));var u="",l=_(t('[name="autostop"]:checked').val());u=l?"完成所有期数后终止":"盈利以后自动终止",t.ajax({url:"/lottery/model/autobuy/update",type:"post",dataType:"json",data:r}).done(function(e){1e5===e.retCode?(t("#autoModal").modal("hide"),n.showTips("<p>自动投注修改成功</p><p>投注模型："+O+"，系统会在"+u+"。</p>"),f({rid:N.rid})):n.showTips(e.retMsg)})}function v(e){N.rid&&t.ajax({url:"/lottery/model/autobuy/detail/ajx",type:"get",dataType:"json",data:{model_id:O,auto_id:N.rid,t:t.now()}}).done(function(e){if(1e5==e.retCode){var a=d(e.retData);t("#j-auto-list .j-tr-modify").remove(),t("#j-auto-list .j-modify-bottom").remove(),t("#j-auto-list tr[data-rid="+N.rid+"]").after(a),s(),w()}else n.showTips(e.retMsg)})}function j(t){var a=[],n=[];a="all"===t?[0,1,2,3,4]:"5"==t?[1,2,3,4]:[t];var s=e.groupBy(N.data,function(t){return t.auto_status});return e.map(a,function(t){s[t]&&e.isArray(s[t])&&(n=n.concat(s[t]))}),n}function f(a){var s=null,i=null,o=null;a&&(s=a.page,i=a.rid,o=a.type),i&&(s=b(i)),o||(o="all");var r=N.data,u="",l=null,d=e.filter(N.data,function(t){return"0"===t.auto_status}).length;if(0===l)return t("#j-auto-go").html(0),t("#j-auto-list").html('<tr><td colspan="9">该模型您没有设置自动投注</td></tr>'),void t("#j-no-set").remove();r=j(o),l=r.length;var p=e.chunk(r,N.pageSize);N.maxPage=Math.ceil(l/N.pageSize),N.pageIndex=s?s:0,u=e.map(p[N.pageIndex],function(t,e){var a=['<td class="fc-7">进行中</td>',"<td>手动终止</td>",'<td class="fc-3">系统终止</td>','<td class="fc-3">完成期数系统终止</td>','<td class="fc-3">符合条件系统终止</td>'],s='<tr data-rid="'+t.id+'" data-statu="'+t.auto_status+'"><td>'+(e+1)+"</td><td>"+n.dateFormat(new Date(1e3*t.start_time),"%Y-%M-%d %h:%m:%s",!0)+"</td><td>"+t.complete_issue+"/"+t.total_issue+"</td><td>"+t.project_money+"</td><td>"+t.profit_money+"</td><td>"+t.profit_rate+"%</td>"+a[t.auto_status]+'<td><a href="javascript:;" class="j-toggle-issue">查看</a></td><td></td></tr>';return s}).join(""),N.maxPage>1?y():t("#j-page-box").hide(),h(d,u),i&&t("#j-auto-list tr[data-rid="+i+"]").find(".j-toggle-issue").trigger("click")}function h(e,a){t("#j-auto-go").html(e,a),t("#j-auto-list").html(a),w()}function y(){var e='<div class="pull-right pages">'+(N.pageIndex+1)+'/<span class="j-days">'+N.maxPage+'</span>页<a href="javascript:;" id="j-back-page" class="mlr5">上一页</a><a href="javascript:;" id="j-next-page" class="mlr5">下一页</a><input type="text" value="1" class="govalue" id="j-pages-value"><button class="btn" id="j-pages-go" type="button">Go</button>页</div>';t("#j-page-box").html(e).show()}function b(t){var a=null;return a=e.indexOf(e.map(N.data,"id"),t),Math.floor(a/N.pageSize)}function g(e){t.ajax({url:"/account/islogin",type:"get",dataType:"json"}).done(function(a){if(1e5===a.retCode){var n=Number(a.retData.money.replace(/,/g,""));e>n&&(t("#j-less-pay").html(e),t("#j-less-total").html(n),t("#j-less-need").html(e-n),t("#j-auto-less").show())}})}function x(){t.ajax({url:"/lottery/model/autobuy/auto-buy-list",type:"get",dataType:"json",data:{model_id:O}}).done(function(t){if(1e5===t.retCode){N.data=t.retData.data,g(t.retData.will_cost_money);var e="";e=n.parseQueryString().rid||null,e?f({rid:e}):f()}else n.showTips(t.retMsg)})}function w(){t(".j-icon-tips").tipsy({gravity:"nw",html:!0,opacity:1})}function _(a){return~~e.escape(t.trim(a))}var T=30,I=5e5,q=-100,M=1e3,O=t("#j-module-id").val(),k=0,D=0,C=/^-?[0-9]{1,}$/,F=null,N={data:null,rid:null,pageIndex:0,maxPage:0,pageSize:10},P=t("#j-auto-list"),z={timer:null,autoType:null};P.on("click",".j-add",function(e){e.preventDefault();var a=t(this).siblings(".j-num"),s=parseInt(a.val());return!z.autoType&&(s++,q>s||s>M)?void n.showTips("投注增加比例范围为"+q+"%-"+q+"%"):(z.timer&&clearTimeout(z.timer),void(z.timer=setTimeout(function(){z.autoType?(s+=2,u(a,s)):r(a,s)},100)))}),P.on("click",".j-reduce",function(e){e.preventDefault();var a=t(this).siblings(".j-num"),s=parseInt(a.val());return!z.autoType&&(s--,q>s||s>M)?void n.showTips("投注增加比例范围为"+q+"%-"+q+"%"):(z.timer&&clearTimeout(z.timer),void(z.timer=setTimeout(function(){z.autoType?(s-=2,u(a,s)):r(a,s)},100)))}),P.on("keyup",".j-num",function(e){e.preventDefault();var a=t(this),n=parseInt(a.val());"-"!=n&&(z.timer&&clearTimeout(z.timer),z.timer=setTimeout(function(){z.autoType?u(a,n):r(a,n)},100))}),P.on("blur",".j-num",function(e){if(e.preventDefault(),0===z.autoType){var a=t(this),s=a.val();if(q>s||s>M||!C.test(s))return n.showTips("投注增加比例范围为"+q+"%-"+q+"%"),void a.val(a.data("val"))}}),P.on("click",".j-add-m",function(e){e.preventDefault();var a=t(this).siblings(".j-cur-input"),s=parseInt(a.val())+2;return T>s?void n.showTips("投注金额范围为"+T+"-"+I+"元"):s>I?void n.showTips("投注金额范围为"+T+"-"+I+"元"):(z.mTimer&&clearTimeout(z.mTimer),void(z.mTimer=setTimeout(function(){o(a,s)},100)))}),P.on("click",".j-reduce-m",function(e){e.preventDefault();var a=t(this).siblings(".j-cur-input"),s=parseInt(a.val())-2;return T>s?void n.showTips("投注金额范围为"+T+"-"+I+"元"):s>I?void n.showTips("投注金额范围为"+T+"-"+I+"元"):(z.mTimer&&clearTimeout(z.mTimer),void(z.mTimer=setTimeout(function(){o(a,s)},100)))}),P.on("keyup",".j-cur-input",function(e){e.preventDefault();var a=t(this),n=a.val(),s=null,r=null,u=null;if(!(T>n)&&C.test(n)){a.val(n);for(var l=0;l<z.curInput.length;l++)if(s=z.curInput.eq(l).val(),l>0&&(r=z.curInput.eq(l-1).val(),u=parseInt(100*(s/r-1),10),u>1e3||-100>u))return!1;n%2!=0&&n++,z.mTimer&&clearTimeout(z.mTimer),z.mTimer=setTimeout(function(){o(a,n)},100),n>30&&i(a)}}),P.on("blur",".j-cur-input",function(e){e.preventDefault();var a=t(this);i(a)}),t("#j-auto-list").on("click",".j-modify",function(e){e.preventDefault(),t(".j-edit").removeClass("hide"),t(".j-view").addClass("hide"),t("#j-text-stop").addClass("hide"),t(".auto-stop-nav").removeClass("hide"),t("#j-percent-edit-wrap").addClass("hide"),t(".j-stop-issue").addClass("hide"),t(".j-modify-bottom").removeClass("hide")}),t("#j-filter-statu").on("change",function(e){e.preventDefault();var a=t(this).val();f({type:a})}),P.on("click",".j-stop-issue",function(a){a.preventDefault();var s=e.find(N.data,function(t){return t.id===N.rid});n.showTips({text:'<div class="fs-12"><p>您对彩票模型'+O+"设置了自动投注，</p><p>总投注"+s.total_issue+'期，已投注<span class="fc-3 mlr5">'+s.complete_issue+'</span>期，累计投注额<span class="fc-3 mlr5">'+s.project_money+'</span>，累计奖金<span class="fc-3">'+s.total_bounty+'</span>元</p></div><div class="fs-12"><p>确认要终止该模型的自动投注吗？</p><p>终止后未进行的投注系统将不再执行自动投注</p></div>',type:2,onConfirm:function(){t.ajax({url:"/lottery/model/autobuy/cancel",type:"get",dataType:"json",data:{model_id:O,auto_id:N.rid}}).done(function(e){1e5===e.retCode?(t("#myModal").modal("hide"),n.showTips({text:"已取消自动投注",type:1,onConfirm:function(){window.location.href="/lottery/model/autobuy/auto-buy-detail?model_id="+O}})):n.showTips(e.retMsg)})}})}),P.on("click","#j-modify-cancel",function(t){t.preventDefault(),f({rid:N.rid})}),P.on("click","#j-modify-confirm",function(t){t.preventDefault(),c()}),t("#j-auto-buy").on("click",function(t){t.preventDefault(),m()}),t("#j-auto-list").on("click",".j-toggle-issue",function(e){e.preventDefault();var a=t(this);n.checkLogin(null,{always:function(){if(a.hasClass("active"))a.html("查看").removeClass("active"),t("#j-auto-list .j-tr-modify").remove(),t("#j-auto-list .j-modify-bottom").remove(),N.rid=null;else{var e=a.parents("tr").attr("data-rid");N.rid=e,v(),t(".j-toggle-issue").html("查看").removeClass("active"),a.html("收起").addClass("active")}}},!0)}),t("#j-page-box").on("click","#j-back-page",function(t){t.preventDefault(),N.pageIndex--,N.pageIndex<0&&(N.pageIndex=0),f({page:N.pageIndex})}),t("#j-page-box").on("click","#j-next-page",function(t){t.preventDefault(),N.pageIndex++,N.pageIndex>=N.maxPage&&N.pageIndex--,f({page:N.pageIndex})}),t("#j-page-box").on("click","#j-pages-go",function(e){e.preventDefault();var a=~~t("#j-pages-value").val();a>=1&&a<=N.maxPage&&a!==N.pageIndex+1&&(N.pageIndex=a-1,f({page:N.pageIndex}))}),l()});