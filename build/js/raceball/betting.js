define(["jquery","app"],function(t,e){"use strict";var a=function(){function a(t){return this instanceof a?void 0:new a(t)}return a.prototype={beishu:1,zhushu:null,isAgreen:!0,match:[],bunch:[],collect:[],maxBunch:{spf:8,rqspf:8,bf:4,zjq:6,bqc:4,hhtz:8,sxds:6},dd:null,maxBonus:null,bjdcPassWay:!0,box:t("#bettingBox"),tab:"spf",zjqSpValueArr:["0","1","2","3","4","5","6","7+"],bqcSpValueArr:["胜胜","胜平","胜负","平胜","平平","平负","负胜","负平","负负"],rqspfSpValueArr:["让球胜","让球平","让球负"],spfSpValueArr:["胜","平","负"],sxdsSpValueArr:["上单","上双","下单","下双"],hhtzIconHtml:'<i class="arrow-up"></i><i class="arrow-down"></i><i class="arrow-down2"></i>'},a.prototype.init=function(){this.beishu=t("#j-qiucksub-bei").val(),this.zhushu=null,this.isAgreen=!0,this.match=[],this.bunch=[],this.dd=null,this.maxBonus=null,this.tab="spf",this.bindMain(),this.bindRight()},a.prototype.updateCount=function(t,e){var a=parseInt(t.val(),10);1==e?a++:a--,a=a>=1?a:1,a=a>99999?99999:a,this.beishu=a,t.val(a)},a.prototype.getOtherEm=function(t,e){return this.box.find(t.parents().hasClass("bidCounts")?'.even em[index="'+e+'"]':'.even em[index="'+e+'"]')},a.prototype.toggleBunch=function(t,e){var a=this;t?(a.bunch.push(e),a.bunch=_.uniq(a.bunch).sort(function(t,e){return t.slice(0,1)-e.slice(0,1)})):_.remove(a.bunch,function(t){return t==e})},a.prototype.addOneItem=function(e,a,n,o,s){var i=this,c=a.attr("matchcode");_.find(i.match,function(t){return t.index==e&&t.matchcode==c})||(e=Number(e),0>e||(i.match.push({index:e,type:s,matchcode:c,sp:n,title:o}),i.createRightFirstBox(),t("#poolStep1 .scrollMoni").show(),t("#poolStep1 .unSeleTips").hide(),i.setSecondBox(),i.setAllTotal()))},a.prototype.createRightFirstBox=function(){var e=this,a="",n="",o="",s="",i="",c="",h="",l="",r="",d={},u=_.groupBy(e.match,"matchcode");for(var m in u)if(u.hasOwnProperty(m)){n="",d={s:[],p:[],f:[]},l=t(".j-data-dd[matchcode="+m+"]"),o=m,s=l.attr("matchnumcn"),i=l.attr("hostname"),c=l.attr("guestname"),a+='<tr matchcode="'+o+'" class="gameTitle">',a+='<th class="t1"><a class="icoDel j-del-all" href="javascript:;">&times;</a>'+s+"</th>",a+='<th class="t2"><span class="t2-left">'+i+'</span><span class="t2-right">'+c+"</span></th></tr>",r=u[m].sort(function(t,e){return t.index-e.index});for(var f=0,b=r.length;b>f;f++)h=r[f],"bf"===e.tab?d[e.getBfLinkGroupIndex(h.title)].push(e.createLinkHtml(h,o)):n+=e.createLinkHtml(h,o);if("bf"===e.tab)for(var p in d)d.hasOwnProperty(p)&&d[p].length&&(n+='<div class="m-bf-group">',n+=d[p].join(""),n+="</div>");a+='<tr class="gameOption" matchcode="'+o+'"><td colspan="5" class="betList">'+n+"</td></tr>"}t("#selectGamePool tbody").html(a)},a.prototype.getBfLinkGroupIndex=function(t){var e=["1:0","2:0","2:1","3:0","3:1","3:2","4:0","4:1","4:2","5:0","5:1","5:2","胜其他"],a=["0:0","1:1","2:2","3:3","平其他"],n=["0:1","0:2","1:2","0:3","1:3","2:3","0:4","1:4","2:4","0:5","1:5","2:5","负其他"];return _.indexOf(e,t)>=0?"s":_.indexOf(a,t)>=0?"p":_.indexOf(n,t)>=0?"f":null},a.prototype.createLinkHtml=function(t,e){var a=this,n="",o="";return o="block block"+t.index,("bf"===a.tab||"zjq"===a.tab||"bqc"===a.tab)&&(o="block"),n='<a index="'+t.index+'" gametype="'+t.type+'" matchcode="'+e+'" href="javascript:;" class="'+o+'">'+t.title+"</a>"},a.prototype.removeOneItem=function(e,a){var n=this,o=a.attr("matchcode"),s=null;_.remove(n.match,function(t){return t.index==e&&t.matchcode==o}),s=_.find(n.match,{matchcode:o}),s?t("#selectGamePool a[matchcode="+o+"][index="+e+"]").remove():(t("#selectGamePool tr[matchcode="+o+"]").remove(),0==n.match.length&&t("#poolStep1 .unSeleTips").show()),n.setSecondBox(),n.setAllTotal()},a.prototype.getBjdcZhggBunchHtml=function(t,e){var a=this,n="",o="",s="",i="",c="",h="",l={bunch2:[3],bunch3:[4,7],bunch4:[5,11,15],bunch5:[6,16,26,31],bunch6:[7,22,42,57,63]},r=null,d=t;d>e&&(d=e),d>6&&(d=6);for(var u=2;e>=u;u++)o=_.find(a.bunch,function(t){return Number(t.slice(0,1))===u}),u>t&&o&&_.remove(a.bunch,function(t){return Number(t.slice(0,1))===u});for(var u=2;d>=u;u++){r=l["bunch"+u];for(var m=0;m<r.length;m++)i=u+"_"+r[m],s=u+"串"+r[m],o=_.find(a.bunch,function(t){return t===i}),c=o?{method:i,isCheck:!0,active:"active",bunch:s}:{method:i,isCheck:!1,active:"",bunch:s},h=_.template('<li class="jtip <%= active%>" data-method="<%= method%>" data-check="<%= isCheck%>"><%= bunch%></li>'),n+=h(c)}return n},a.prototype.getBjdcZyggBunchHtml=function(t,e){for(var a=this,n="",o="",s="",i="",c="",h=2;e>=h;h++)o=_.find(a.bunch,function(t){return Number(t.slice(0,1))===h}),h>t&&o&&_.remove(a.bunch,function(t){return Number(t.slice(0,1))===h});for(var h=1;t>=h;h++)o=_.find(a.bunch,function(t){return Number(t.slice(0,1))===h}),s=1===h?"单关":h+"串1",i=o?{len:h,isCheck:!0,active:"active",bunch:s}:{len:h,isCheck:!1,active:"",bunch:s},e>=h?(c=_.template('<li class="jtip <%= active%>" id="j-me-<%= len%>" data-method="<%= len%>_1" data-check="<%= isCheck%>"><%= bunch%></li>'),n+=c(i)):h=t+1;return n},a.prototype.setBjdcBox=function(){var e=this,a=_.uniq(e.match,"matchcode").length,n=t("#poolErrorTips"),o=t("#j-method-ls"),s="",i=e.maxBunch[e.tab];switch(e.tab){case"bqc":i=6;break;case"bf":i=3;break;case"spf":i=15}return 2>a?(e.bunch=[],o.hide().html(""),void n.show()):(s=e.getBjdcZhggBunchHtml(a,i),n.hide(),void o.html(s).show())},a.prototype.setSecondBox=function(){var e=this,a=_.uniq(e.match,"matchcode").length,n=null,o=t("#poolErrorTips"),s=t("#j-method-ls"),i="",c=s.find(".jtip"),h=c.length,l=null,r=null,d=null,u=e.maxBunch[e.tab],m=2,f="",b="";if("bjdc"===Config.lotyName){if(!e.bjdcPassWay)return void e.setBjdcBox();switch(e.tab){case"bqc":u=6;break;case"bf":u=3;break;case"spf":u=15}if(1>a)return e.bunch=[],s.hide().html(""),void o.show();return f=e.getBjdcZyggBunchHtml(a,u),o.hide(),void s.html(f).show()}if(2>a)return e.bunch=[],s.hide().html(""),void o.show();if("hhtz"===e.tab&&(l=_.find(e.match,function(t){return"bf"===t.type}),r=_.find(e.match,function(t){return"bqc"===t.type}),d=_.find(e.match,function(t){return"zjq"===t.type}),d&&(u=6,t("#j-me-7,#j-me-8").remove(),e.toggleBunch(!1,"7_1"),e.toggleBunch(!1,"8_1")),(l||r)&&(u=4,t("#j-me-5,#j-me-6,#j-me-7,#j-me-8").remove(),e.toggleBunch(!1,"5_1"),e.toggleBunch(!1,"6_1"),e.toggleBunch(!1,"7_1"),e.toggleBunch(!1,"8_1"))),a>=m)if(t("#j-me-"+a)[0])h+1>a&&(_.remove(e.bunch,function(t){return t.slice(0,1)==h+1}),c.eq(h-1).remove());else{if(a==m&&e.toggleBunch(!0,"2_1"),a==m+1&&e.toggleBunch(!1,"2_1"),a>=m)for(var p=2;a>=p;p++)b=_.find(e.bunch,function(t){return Number(t.slice(0,1))===p}),n=b?{len:p,isCheck:!0,active:"active"}:{len:p,isCheck:!1,active:""},u>=p?(i=_.template('<li class="jtip <%= active%>" id="j-me-<%= len%>" data-method="<%= len%>_1" data-check="<%= isCheck%>"><%= len%>串1</li>'),f+=i(n)):p=a+1;o.hide(),s.html(f).show()}},a.prototype.combinations=function(t,e,a){var n=t.length,o=[],s=function(e,i){if(0==i)a(o);else for(var c=e;n-i>=c;++c)o.push(t[c]),s(c+1,i-1),o.pop()};s(0,e)},a.prototype.getTotalZhus=function(){var t=this,e=[],a=_.groupBy(t.match,function(t){return t.matchcode}),n=_.uniq(t.match,"matchcode"),o=(n.length,t.bunch),s=[],i={zhus:0,maxBonus:0},c={"1_1":["1_1"],"2_1":["2_1"],"2_3":["1_1","2_1"],"3_1":["3_1"],"3_4":["2_1","3_1"],"3_7":["1_1","2_1","3_1"],"4_1":["4_1"],"4_5":["3_1","4_1"],"4_11":["2_1","3_1","4_1"],"4_15":["1_1","2_1","3_1","4_1"],"5_1":["5_1"],"5_6":["4_1","5_1"],"5_16":["3_1","4_1","5_1"],"5_26":["2_1","3_1","4_1","5_1"],"5_31":["1_1","2_1","3_1","4_1","5_1"],"6_1":["6_1"],"6_7":["5_1","6_1"],"6_22":["4_1","5_1","6_1"],"6_42":["3_1","4_1","5_1","6_1"],"6_57":["2_1","3_1","4_1","5_1","6_1"],"6_63":["1_1","2_1","3_1","4_1","5_1","6_1"],"7_1":["7_1"],"8_1":["8_1"],"9_1":["9_1"],"10_1":["10_1"],"11_1":["11_1"],"12_1":["12_1"],"13_1":["13_1"],"14_1":["14_1"],"15_1":["15_1"]},h={},l=[];for(var r in a)a.hasOwnProperty(r)&&s.push(_.max(a[r],"sp"));if(0!=o.length){for(var d=0;d<n.length;d++){l=[],e.push(n[d].matchcode);for(var u=a[n[d].matchcode],m=u.length-1;m>=0;m--)l.push(u[m].sp);h[n[d].matchcode]=l}for(var d=0;d<o.length;d++)for(var m=0;m<c[o[d]].length;m++)for(var f=Number(c[o[d]][m].split("_")[0]),b=YC.Unit.explodeCombined(e,f),p=b.length-1;p>=0;p--){for(var v=1,g=1,j=b[p].length-1;j>=0;j--)v*=h[b[p][j]].length,g*=_.max(h[b[p][j]],function(t){return parseInt(t)});i.zhus+=v,i.maxBonus+=g}}return i.maxBonus*=2*t.beishu,i.maxBonus=i.maxBonus.toFixed(2),i},a.prototype.clearBetData=function(){var e=this;t("#selectGamePool tbody").html(""),t("#poolStep1 .scrollMoni").hide(),t("#poolStep1 .unSeleTips").fadeIn(),e.box.find(".j-sp-btn,.j-bf-all").removeClass("active hover"),e.box.find(".j-show-bf").removeClass("has"),e.match=[],e.dd=null,e.beishu=t("#j-qiucksub-bei").val(),e.zhushu=null,e.maxBonus=null,e.bunch=[],e.setSecondBox(),e.setAllTotal()},a.prototype.setAllTotal=function(){var e=this,a=_.uniq(e.match,"matchcode").length,n=e.getTotalZhus(),o=n.zhus||0,s=2*o*e.beishu,i=n.maxBonus;i=0==i?"0.00":i,e.maxBonus=i,e.zhushu=o,t("#j-no-method").hide(),t("#gameNumber").html(a),t("#gameZhu").html(o),t("#totalMoney").html(s),t("#maxbonus").html(i)},a.prototype.getSubContent=function(t){var e=this,a=[],n=[],o=null,s=[],i=null,c={spf:[3,1,0],rqspf:[3,1,0],zjq:[0,1,2,3,4,5,6,7],sxds:["00","01","10","11"],bqc:["33","31","30","13","11","10","03","01","00"],bf:["10","20","21","30","31","32","40","41","42","50","51","52","90","00","11","22","33","99","01","02","12","03","13","23","04","14","24","05","15","25","09"]};"bjdc"===Config.lotyName&&(c.bf=["10","20","21","30","31","32","40","41","42","90","00","11","22","33","99","01","02","12","03","13","23","04","14","24","09"]),c.hhtz=c.spf.concat(c.rqspf,c.bqc,c.bf,c.zjq);for(var h=null,l=0;l<t.length;l++)if(a=[],n=_.where(this.match,{matchcode:t[l]}),"hhtz"==e.tab){o={spf:[],rqspf:[],bqc:[],bf:[],zjq:[]};for(var r=0;r<n.length;r++)h=n[r],o[h.type].push(c.hhtz[h.index]);for(var d in o)o.hasOwnProperty(d)&&a.push(o[d].join(","));s.push(a.join("$")),i=s.join("|")}else{for(var r=0;r<n.length;r++)h=n[r],a.push(c[h.type][h.index]);s.push(a.join(",")),i=s.join("|")}return i},a.prototype.getSubmitParams=function(){var t=this,e=null,a=[],n=null,o=null;o=_.uniq(t.match,"matchcode").sort(function(t,e){return t.matchcode-e.matchcode});for(var s=0;s<o.length;s++)a.push(o[s].matchcode);return n=t.getSubContent(a),e={zhushu:t.zhushu,beishu:t.beishu,matchKeys:a.join(","),bunch:t.bunch.join(","),content:n}},a.prototype.getOneBfHtml=function(t){var e="",a="",n="",o=["1:0","2:0","2:1","3:0","3:1","3:2","4:0","4:1","4:2","5:0","5:1","5:2","胜其他"],s=["0:0","1:1","2:2","3:3","平其他"],i=["0:1","0:2","1:2","0:3","1:3","2:3","0:4","1:4","2:4","0:5","1:5","2:5","负其他"],c="",h=null,l=[],r=[],d=[],u="",m=[12,17,30],f=8;"bjdc"===Config.lotyName&&(o.splice(9,3),i.splice(9,3),m=[9,14,24],f=5),h=o.concat(s,i);for(var b in jczqData)if(jczqData.hasOwnProperty(b))for(var p=jczqData[b].length-1;p>=0;p--)String(jczqData[b][p].match_key)===String(t)&&(e=jczqData[b][p]);n=e.bf_gg_sp.split("|");for(var p=0,v=o.length+s.length+i.length;v>p;p++)n[p]?u="j-sp-btn":(n[p]="--",u=""),c='class="sp-btn '+u+'" gametype="bf"',p>=0&&p<=m[0]&&l.push('<td data-item="'+h[p]+'" sp="'+n[p]+'" index="'+p+'"'+c+">"+h[p]+"<div>"+n[p]+"</div></td>"),m[0]+1<=p&&p<=m[1]&&r.push('<td data-item="'+h[p]+'" sp="'+n[p]+'" index="'+p+'"'+c+">"+h[p]+"<div>"+n[p]+"</div></td>"),m[1]+1<=p&&p<=m[2]&&d.push('<td data-item="'+h[p]+'" sp="'+n[p]+'" index="'+p+'"'+c+">"+h[p]+"<div>"+n[p]+"</div></td>");return a+='<div class="bf-nobor"></div><table class="analyMoreTable"><tbody>',a+="<tr><th>主胜</th>"+l.join("")+'<td class="j-bf-all sp-btn">全包</td></tr>',a+="<tr><th>平</th>"+r.join("")+'<td colspan="'+f+'" class="noBg"></td><td class="j-bf-all sp-btn">全包</td></tr>',a+="<tr><th>主负</th>"+d.join("")+'<td class="j-bf-all sp-btn">全包</td></tr>',a+="</tbody></table>",1!=e.bf&&(a='<div class="bf-nobor"></div><div class="bf-nosupport">本场对阵不支持该玩法</div>'),a},a.prototype.getSpBtn=function(t,e,a,n,o){var s="",i="",c="";if(o||(o=0),1==t)for(var h=0,l=e.length;l>h;h++)a[h]?s="j-sp-btn":(a[h]="--",s=""),h===l-1&&(i="lastOne"),c+='<em index="'+(h+o)+'" data-item="'+e[h]+'" gametype="'+n+'" sp="'+a[h]+'" class="'+i+" "+s+' sp-btn">'+a[h]+"</em>";else c='<b class="no-support">本场对阵不支持该玩法</b>';return c},a.prototype.craeteDateBtn=function(t,e){var a=this,n="",o=e.split("|"),s=[];return s=a[a.tab+"SpValueArr"],n=a.getSpBtn(t,s,o,a.tab)||""},a.prototype.getOneHhtzHtml=function(t){var e=this,a="",n="",o="",s=["1:0","2:0","2:1","3:0","3:1","3:2","4:0","4:1","4:2","5:0","5:1","5:2","胜其他"],i=["0:0","1:1","2:2","3:3","平其他"],c=["0:1","0:2","1:2","0:3","1:3","2:3","0:4","1:4","2:4","0:5","1:5","2:5","负其他"],h="",l=s.concat(i,c),r=[],d=[],u=[],m=[],f="";for(var b in jczqData)if(jczqData.hasOwnProperty(b))for(var p=jczqData[b].length-1;p>=0;p--)String(jczqData[b][p].match_key)===String(t)&&(a=jczqData[b][p]);o=a.bf_gg_sp.split("|");for(var p=0,v=s.length+i.length+c.length;v>p;p++)o[p]?f="j-sp-btn":(o[p]="--",f=""),h='class="sp-btn '+f+'" gametype="bf"',p>=0&&12>=p&&r.push('<td data-item="'+l[p]+'" sp="'+o[p]+'" index="'+(p+15)+'"'+h+">"+l[p]+"<div>"+o[p]+"</div></td>"),p>=13&&17>=p&&d.push('<td data-item="'+l[p]+'" sp="'+o[p]+'" index="'+(p+15)+'"'+h+">"+l[p]+"<div>"+o[p]+"</div></td>"),p>=18&&30>=p&&u.push('<td data-item="'+l[p]+'" sp="'+o[p]+'" index="'+(p+15)+'"'+h+">"+l[p]+"<div>"+o[p]+"</div></td>");for(var g="",_="",j=a.bqc_gg_sp.split("|")||[],x=a.zjq_gg_sp.split("|")||[],p=0,v=e.bqcSpValueArr.length;v>p;p++)j[p]?f="j-sp-btn":(j[p]="--",f=""),h='class="sp-btn '+f+'" gametype="bqc"',g+='<td data-item="'+e.bqcSpValueArr[p]+'" sp="'+j[p]+'" index="'+(p+6)+'"'+h+">"+e.bqcSpValueArr[p]+"<div>"+j[p]+"</div></td>";for(var p=0,v=e.zjqSpValueArr.length;v>p;p++)x[p]?f="j-sp-btn":(x[p]="--",f=""),h='class="sp-btn '+f+'" gametype="zjq"',_+='<td data-item="'+e.zjqSpValueArr[p]+'" sp="'+x[p]+'" index="'+(p+46)+'"'+h+">"+e.zjqSpValueArr[p]+"<div>"+x[p]+"</div></td>";return m='<tr><th rowspan="3">比分</th>'+r.join("")+"</tr><tr>"+d.join("")+'<td colspan="8" class="noBg"></td></tr><tr>'+u.join("")+"</tr>",1!=a.bqc&&(g='<td colspan="13" class="no-all">本场对阵不支持该玩法</td>'),1!=a.bf&&(m='<tr><th>比分</th><td colspan="13" class="no-all">本场对阵不支持该玩法</td></tr>'),1!=a.zjq&&(_='<td colspan="13" class="no-all">本场对阵不支持该玩法</td>'),n+='<div class="hhtz-nobor"></div><table class="analyMoreTable analyMoreTable2 j-analymore-table"><tbody>',n+="<tr><th>半全场</th>"+g+"</tr>",n+=m,n+="<tr><th>总进球</th>"+_+"</tr>",n+="</tbody></table>"},a.prototype.bindMain=function(){var a=this,n="active",o="hover";a.box.on("mousemove","dd",function(e){t(this).addClass("even")}),a.box.on("mouseout","dd",function(e){t(this).removeClass("even")}),a.box.on("click",".j-show-hhtz",function(e){var n=t(this),o=n.parents("dd").attr("matchcode"),s=n.parents("dd"),i=null,c=a.getOneHhtzHtml(o),h=a.box.find("[data-newdd="+o+"]").length,l=null;n.hasClass("active")?(h&&a.box.find("[data-newdd="+o+"]").hide(),_.find(a.match,function(t){return t.matchcode===o&&"spf"!==t.type&&"rqspf"!==t.type})?(n.html("展开"+a.hhtzIconHtml),n.addClass("has").removeClass("active")):(n.html("展开"+a.hhtzIconHtml),n.removeClass("active has"))):(n.html("隐藏"+a.hhtzIconHtml),h?a.box.find("[data-newdd="+o+"]").show():(i=s.clone().removeClass().addClass("bf-box hhtz-box j-bf-box").attr("data-newdd",o).html(c),s.after(i),l=a.box.find("[data-newdd="+o+"] .j-analymore-table")[0].offsetHeight+30,a.box.find("[data-newdd="+o+"]").height(l)),n.removeClass("has").addClass("active"))}),a.box.on("click",".j-show-bf",function(e){var n=t(this),o=n.parents(".row1-1"),s=n.parents("dd"),i=s.attr("matchcode"),c=null,h=a.getOneBfHtml(i),l=s.parents("dl"),r=l.find("[data-newdd="+i+"]").length;o.toggleClass("on"),o.hasClass("on")?(r?l.find("[data-newdd="+i+"]").show():(c=s.clone().removeClass().addClass("bf-box j-bf-box").attr("data-newdd",i).html(h),s.after(c)),n.removeClass("has").addClass("active")):(r&&l.find("[data-newdd="+i+"]").hide(),_.find(a.match,function(t){return t.matchcode===i})?n.addClass("has").removeClass("active"):n.removeClass("active has"))}),a.box.on("click",".j-bf-all",function(e){var o=t(this),s=o.parents("dd"),i=null,c=null,h=null;o.toggleClass(n),o.siblings(".j-sp-btn").each(function(e,l){i=t(this).attr("index"),c=t(this).attr("sp"),h=t(this).attr("data-item"),o.hasClass(n)?(t(this).addClass(n),a.addOneItem(i,s,c,h,"bf")):(t(this).removeClass(n),a.removeOneItem(i,s))})}),a.box.on("mousemove",".j-sp-btn,.j-bf-all",function(e){{var a=t(this);a.attr("index")}a.hasClass(n)||a.hasClass("rq")||a.addClass(o)}),a.box.on("mouseout",".j-sp-btn,.j-bf-all",function(e){{var a=t(this);a.attr("index")}a.hasClass(n)||a.hasClass("rq")||a.removeClass(o)}),a.box.on("click",".j-sp-btn",function(s){var i=t(this),c=i.attr("index"),h=i.attr("sp"),l=i.attr("data-item"),r=i.parents("dd"),d=r.attr("matchcode"),u=!0,m=!0,f=_.uniq(a.match,"matchcode").length,b=_.find(a.match,function(t){return t.matchcode===d}),p=i.attr("gametype");return i.hasClass("rq")?void 0:f>=15&&!b?(e.showTips("您好，投注场次不得超过15场哦"),!1):void(i.hasClass(n)?(i.siblings(".j-bf-all").removeClass(n+" "+o),i.removeClass(n),a.removeOneItem(c,r)):(i.removeClass(o).addClass(n),a.addOneItem(c,r,h,l,p),i.siblings(".j-sp-btn").each(function(e,a){!t(this).hasClass(n)&&m&&(u=!1,m=!1)}),u&&i.siblings(".j-bf-all").addClass(n)))}),a.box.on("click",".j-dataBody-toggle",function(e){var n=t(this),o=Number(n.attr("data-show")),s=n.parents("dl"),i=s.find("dd"),c=s.find(".j-data-dd"),h=s.find(".j-bf-box"),l=["隐藏","展开"],r=1===o?0:1;1===o?(i.hide(),"hhtz"===a.tab&&h.each(function(e,a){if(t(this).find(".j-sp-btn.active").length>0){var n=t(this).attr("matchcode"),o=s.find(".j-data-dd[matchcode="+n+"]");o.find(".j-show-hhtz").addClass("has")}}),"bf"===a.tab&&h.each(function(e,a){if(t(this).find(".j-sp-btn.active").length>0){var n=t(this).attr("matchcode"),o=s.find(".j-data-dd[matchcode="+n+"]");o.find(".j-show-bf").addClass("has")}}),n.attr("data-show",r)):(t(this).parents("#j-collect-body").length?c.show():c.each(function(e,a){var n=t(this).attr("matchcode");0==t("#j-collect-body .j-data-dd[matchcode="+n+"]").length&&t(this).show()}),"hhtz"===a.tab&&c.find(".j-show-hhtz").removeClass("active").html("展开"+a.hhtzIconHtml),"bf"===a.tab&&(c.find(".j-show-bf,.j-show-hhtz").removeClass("active"),c.find(".row1-1").removeClass("on")),n.attr("data-show",r)),n.find(".icon").toggleClass("show-icon").toggleClass("hide-icon"),n.find(".j-nav-text").html(l[o])})},a.prototype.filterNum=function(t){if(""===t)return t;var e=parseInt(t,10);return isNaN(e)?e=1:(e=e>=1?e:1,e=e),e=e>99999?99999:e},a.prototype.bindRight=function(){var e=this;t(".j-coutn-total").on("click",".j-count",function(a){{var n=t(this).siblings(".btn-results"),o=t(this).attr("data-c");n.attr("data-r")}e.updateCount(n,o),e.setAllTotal()}),t("#j-qiucksub-bei").on("keyup",function(a){var n=t(this),o=(n.attr("data-r"),e.filterNum(n.val()));n.val(o),e.beishu=o,e.setAllTotal()}),t("#j-qiucksub-bei").on("change",function(a){var n=t(this),o=(n.attr("data-r"),e.filterNum(n.val()));o=o||1,n.val(o),e.beishu=o,e.setAllTotal()}),t("#j-method-ls").on("click",".jtip",function(a){var n=t(this),o="active",s=null,i=n.attr("data-method")||null;"bjdc"!==Config.lotyName||e.bjdcPassWay||(e.bunch=[],t("#j-method-ls .jtip").removeClass(o)),n.toggleClass(o),s=n.hasClass(o),n.attr("data-check",s),e.toggleBunch(s,i),e.setAllTotal()}),t("#orderRule").on("click",".icon",function(a){var n=t(this);n.toggleClass("icon-cbox").toggleClass("icon-cgou"),e.isAgreen=n.hasClass("icon-cgou")}),t("#j-touzhu-tips").on("click",function(e){if(t("#j-touzhu-tipstext").toggle(),t(this).find(".icon").toggleClass("icon-bup").toggleClass("icon-bdown"),t(this).find(".icon").hasClass("icon-bdown")){{var a=t(".j-navbar-wrapper").eq(1);a.height(),t("body").height(),t(window).height(),t(".ft").height()}a.css({top:"-200"})}}),t("#j-btn-clear").on("click",function(t){e.box.find(".j-show-hhtz").removeClass("has"),e.clearBetData()}),t("#selectGamePool").on("click",".betList a",function(a){var n=t(this).attr("matchcode"),o=t(this).attr("index"),s=t(this).attr("gametype"),i=t("#bettingBox dd[matchcode="+n+"]").find("[gametype="+s+"][index="+o+"]"),c=t(this).siblings("a"),h="";h=t(0==c.length?"#selectGamePool tr[matchcode="+n+"]":this),h.remove(),i.removeClass("active"),_.remove(e.match,function(t){return t.index==o&&t.matchcode==n}),0==e.match&&t("#poolStep1 .unSeleTips").show(),e.setSecondBox(),e.setAllTotal(),"bf"===e.tab&&(i.siblings(".j-bf-all").removeClass("active hover"),0===_.filter(e.match,function(t){return t.matchcode===n}).length&&t("#bettingBox dd[matchcode="+n+"] .j-show-bf").removeClass("has")),"hhtz"===e.tab&&0===_.filter(e.match,function(t){return t.matchcode===n}).length&&t("#bettingBox dd[matchcode="+n+"] .j-show-hhtz").removeClass("has")}),t("#selectGamePool").on("click",".j-del-all",function(a){var n=t(this).parents("tr").attr("matchcode"),o=t("#selectGamePool tr[matchcode="+n+"]"),s=t("#bettingBox dd[matchcode="+n+"]").find(".j-sp-btn.active,.j-bf-all");o.remove(),s.removeClass("active hover"),"hhtz"===e.tab&&t("#bettingBox dd[matchcode="+n+"] .j-show-hhtz").removeClass("has"),"bf"===e.tab&&t("#bettingBox dd[matchcode="+n+"]").find(".j-show-bf").removeClass("has"),_.remove(e.match,function(t){return t.matchcode==n}),0==e.match&&t("#poolStep1 .unSeleTips").show(),e.setSecondBox(),e.setAllTotal()})},a}(),n=new a;return n.init(),n});